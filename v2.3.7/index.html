<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <link rel="icon" href="favicon-a0f8c7b8.ico">
    <link rel="stylesheet" href="style.css" />
    <title>Veins</title>
    <script type="module" crossorigin src="veins.js"></script>
    
  </head>
  <body>
    <div id="__vapps-version" style="position: fixed; top: 0; right: 0; padding: 50px; font-size: 20px; color: #fff"></div>
    <div id="list-box">
      <div class="list" data-num="08045666014"><div class="list-content"><div class="name">株式会社AAA 田中太郎 営業部長</div><div class="number">080-4566-6014</div></div></div>
      <div class="list" data-num="08045666014"><div class="list-content"><div class="name">株式会社AAA 田中太郎 営業部長</div><div class="number">080-4566-6014</div></div></div>
      <div class="list" data-num="08045666014"><div class="list-content"><div class="name">株式会社AAA 田中太郎 営業部長</div><div class="number">080-4566-6014</div></div></div>
      <div class="list" data-num="08045666014"><div class="list-content"><div class="name">株式会社AAA 田中太郎 営業部長</div><div class="number">080-4566-6014</div></div></div>
      <div class="list" data-num="08045666014"><div class="list-content"><div class="name">株式会社AAA 田中太郎 営業部長</div><div class="number">080-4566-6014</div></div></div>
    </div>
    
    <script>
      window.addEventListener('load', () => {
        const v = window.Veins
        const x = v.PhoneX.RIGHT
        const y = v.PhoneY.BOTTOM
        const d = document.getElementById('__vapps-version')
        if (d) d.innerHTML = v.Version
        v.on(v.Event.PHONE.ON_MOUNTED.RIGHT.BOTTOM, () => { // マウントのタイミングで初期データを入れる
          const lines = [
            { "id": 1, "name": "みかん回線", "number": "0311112222" },
            { "id": 2, "name": "りんご回線", "number": "0611112222" },
            { "id": 3, "name": "ばなな回線", "number": "05011112222" }
          ]
          const users = [
            { "id": "1-5-3-0", "name": "⼭⽥太郎", "number": "00000000001", "on": true, "disables": {} },
            { "id": "2-5-4-0", "name": "鈴⽊⼀郎", "number": "00000000002", "on": true, "disables": {} },
            { "id": "3-5-5-0", "name": "佐々⽊花⼦", "number": "00000000003", "on": true, "disables": {} }
          ]
          v.putPhoneLines(v.PhoneX.RIGHT, v.PhoneY.BOTTOM, lines)
          v.putPhoneBookItems(v.PhoneX.RIGHT, v.PhoneY.BOTTOM, users)
          v.putPhoneSpeedDialItems(v.PhoneX.RIGHT, v.PhoneY.BOTTOM, users)
        })
        const lists = document.getElementsByClassName('list')
        if (!lists) return
        for (let i in lists) { lists[i].onclick = (e) => { v.callBySelectedLine(x, y, lists[i].getAttribute('data-num')) } }
        v.phone({ // Veins を起動
          token: 'sampletoken',
          x: v.PhoneX.RIGHT,
          y: v.PhoneY.BOTTOM,
          veins: {
            host: 'sample.com',
            apx: 1,
            vdr: 2,
            email: 'sample@sample.com',
            password: 'samplepw'
          }
        })
        .then(id => { console.log('CURRENT_ID: '+id) })
        .catch(err => console.error(err))
      })
    </script>
  </body>
</html>
